{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0a735a0947415f9acf3f","webpack:///./src/index.js","webpack:///./src/helix.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;KAAY,K;;;;;;;;;;ACAZ;;;AAGA,EAAC,UAAS,MAAT,EAAiB,QAAjB,EAA2B,SAA3B,EAAsC;AACtC;;AACA,MAAI,WAAW,OAAO,QAAtB;AAAA,MACC,WAAW,OAAO,QADnB;AAAA,MAEC,gBAAgB,KAFjB;AAAA,MAGC,YAAY,EAHb;AAAA,MAIC,kBAAkB,CAAC,MAAD,EAAS,sBAAT,EAAiC,eAAjC,EAAkD,gBAAlD,EAAoE,gBAApE,EAAsF,UAAtF,EAAkG,SAAlG,EAA6G,aAA7G,CAJnB;AAAA,MAKC,QAAQ,SAAR,KAAQ,GAAW;AAClB,SAAM,SAAN,CAAgB,SAAhB,CAA0B,IAA1B,CAA+B,MAA/B;AACA,GAPF;AAAA,MAQC,kBAAkB,SAAS,sBAAT,EARnB;AASA,SAAO,KAAP,GAAgB,UAAU,QAAV,IAAsB,YAAY,MAAlD;AACA,QAAM,SAAN,GAAkB;AACjB;;;AAGA,cAAW,qBAAW,CAErB,CANgB;AAOjB;;;AAGA,QAAK,aAAS,EAAT,EAAa,IAAb,EAAmB;;AAEvB,QAAI,KAAK,EAAT;AACA,QAAI,EAAE,UAAF,CAAa,IAAb,CAAJ,EAAwB;AACvB,UAAK,IAAL,CAAU,IAAV,EAAgB,EAAhB;AACA,KAFD,MAEO,IAAI,EAAE,aAAF,CAAgB,IAAhB,CAAJ,EAA2B;AACjC,UAAK,IAAL;AACA;;AAED,QAAI,SAAS,EAAb;AACA,QAAI,MAAM,SAAS,cAAT,CAAwB,EAAxB,CAAV;AACA,SAAK,WAAL,CAAiB,GAAjB,EAAsB,MAAtB,EAA8B,EAA9B;AACA,SAAK,UAAL,CAAgB,EAAhB,EAAoB,MAApB;AACA,SAAK,OAAL,CAAa,MAAb;AACA,SAAK,aAAL,CAAmB,GAAnB;AACA,WAAO,MAAP;AACA,IA1BgB;AA2BjB,YAAS,iBAAS,EAAT,EAAa,KAAb,EAAoB;AAC5B,QAAI,MAAM,GAAG,YAAH,CAAgB,MAA1B;AACA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,GAApB,EAAyB,GAAzB,EAA8B;AAC7B,SAAI;AACH,SAAG,YAAH,CAAgB,CAAhB,EAAmB,MAAnB,CAA0B,KAA1B;AACA,MAFD,CAEE,OAAO,CAAP,EAAU;AACX,cAAQ,KAAR,CAAc,CAAd;AACA;AACD;AACD,IApCgB;AAqCjB;;;AAGA,gBAAa,qBAAS,GAAT,EAAc,EAAd,EAAkB,KAAlB,EAAyB;AACrC;AACA,OAAG,YAAH,GAAkB,EAAlB;;AAEA,SAAK,UAAL,CAAgB,GAAhB,EAAqB,EAArB,EAAyB,KAAzB;AACA,IA7CgB;AA8CjB,eAAY,oBAAS,GAAT,EAAc,EAAd,EAAkB,KAAlB,EAAyB,KAAzB,EAAgC;AAC3C,QAAI,SAAS,IAAI,UAAjB;AACA,QAAI,MAAM,OAAO,MAAjB;AACA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,GAApB,EAAyB,GAAzB,EAA8B;AAC7B,SAAI,QAAQ,OAAO,CAAP,CAAZ;AACA,SAAI,OAAO,KAAK,UAAL,CAAgB,KAAhB,CAAX;AACA;AACA,SAAI,YAAY,EAAhB;AACA,SAAI,CAAC,EAAE,aAAF,CAAgB,IAAhB,CAAL,EAA4B;AAC3B,UAAI,aAAa,KAAK,OAAL,CAAa,KAAb,EAAoB,IAApB,EAA0B,EAA1B,EAA8B,KAA9B,EAAqC,KAArC,CAAjB;AACA,UAAI,UAAJ,EACC,GAAG,YAAH,CAAgB,IAAhB,CAAqB,UAArB;AACD;AACD,SAAI,MAAM,QAAN,IAAkB,MAAM,QAAN,CAAe,MAAf,GAAwB,CAA9C,EAAiD;AAChD,WAAK,UAAL,CAAgB,KAAhB,EAAuB,SAAvB,EAAkC,KAAlC,EAAyC,KAAzC;AACA;AACD;AACD,IA/DgB;AAgEjB;;;AAGA,YAAS,iBAAS,KAAT,EAAgB,IAAhB,EAAsB,EAAtB,EAA0B,KAA1B,EAAiC,KAAjC,EAAwC;AAChD,QAAI,UAAU,MAAM,QAAN,CAAe,WAAf,EAAd;AACA,QAAI,UAAU,UAAU,OAAV,IAAqB,UAAU,OAAV,CAArB,GAA0C,aAAxD;AACA,QAAI;AACH,YAAO,QAAQ,IAAR,CAAa,EAAb,EAAiB,EAAjB,EAAqB,KAArB,EAA4B,IAA5B,EAAkC,KAAlC,EAAyC,KAAzC,CAAP;AACA,KAFD,CAEE,OAAO,CAAP,EAAU;AACX,SAAI,OAAJ,EAAa;AACZ;AACA,cAAQ,KAAR,CAAc,UAAU,eAAxB;AACA;AACD;AAED,IA/EgB;AAgFjB;;;AAGA,kBAAe,uBAAS,GAAT,EAAc;AAC5B,MAAE,GAAF,EAAO,EAAP,CAAU,MAAV,EAAkB,OAAlB,EAA2B,UAAS,CAAT,EAAY;AACtC,SAAI,SAAS,EAAE,MAAf;AACA,SAAI,OAAO,YAAP,CAAoB,SAApB,CAAJ,EAAoC;AACnC,YAAM,EAAE,MAAF,EAAU,GAAV,EAAN;AACA;AACD,KALD;AAMA,IA1FgB;AA2FjB;;;AAGA,eAAY,oBAAS,EAAT,EAAa,MAAb,EAAqB;AAChC,SAAK,eAAL,CAAqB,MAArB,EAA6B,EAA7B,EAAiC,MAAjC;AACA,WAAO,MAAP;AACA,IAjGgB;AAkGjB,oBAAiB,yBAAS,MAAT,EAAiB,KAAjB,EAAwB,EAAxB,EAA4B;AAC5C,WAAO,IAAP,GAAc,EAAd;AACA,WAAO,OAAP,GAAiB,KAAjB;AACA,SAAK,IAAI,KAAT,IAAkB,KAAlB,EAAyB;AACxB,SAAI,MAAM,MAAN,CAAa,CAAb,KAAmB,GAAnB,IAA0B,gBAAgB,OAAhB,CAAwB,KAAxB,KAAkC,CAAC,CAAjE,EAAoE;AACnE,WAAK,gBAAL,CAAsB,KAAtB,EAA6B,KAA7B,EAAoC,EAApC,EAAwC,MAAxC;AACA;AACD;AACD,IA1GgB;AA2GjB,iBAAc,sBAAS,EAAT,EAAa,KAAb,EAAoB,CAApB,EAAuB,SAAvB,EAAkC,GAAlC,EAAuC;AACpD,QAAI,YAAY,EAAhB;AACA,cAAU,IAAV,GAAiB,EAAjB;AACA,QAAI,OAAO,IAAI,CAAJ,CAAX;AACA,WAAO,cAAP,CAAsB,SAAtB,EAAiC,UAAjC,EAA6C;AAC5C,UAAK,eAAW;AACf,UAAI,OAAO,IAAI,OAAJ,CAAY,IAAZ,CAAX;AACA,aAAO,QAAQ,GAAR,GAAc,IAAd,GAAqB,GAA5B;AACA;AAJ2C,KAA7C;AAMA,UAAM,SAAN,CAAgB,MAAhB,CAAuB,IAAvB,CAA4B,SAA5B,EAAuC,CAAvC,EAA0C,CAA1C,EAA6C,SAA7C;AACA,SAAK,eAAL,CAAqB,SAArB,EAAgC,IAAI,CAAJ,CAAhC,EAAwC,EAAxC;AACA,WAAO,SAAP;AACA,IAxHgB;AAyHjB,kBAAe,uBAAS,EAAT,EAAa,KAAb,EAAoB,GAApB,EAAyB,SAAzB,EAAoC;AAClD,SAAK,IAAI,IAAI,CAAR,EAAW,MAAM,IAAI,MAA1B,EAAkC,IAAI,GAAtC,EAA2C,GAA3C,EAAgD;AAC/C,UAAK,YAAL,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B,EAAgC,SAAhC,EAA2C,GAA3C;AACA;AACD,IA7HgB;AA8HjB,qBAAkB,0BAAS,KAAT,EAAgB,KAAhB,EAAuB,EAAvB,EAA2B,MAA3B,EAAmC;AACpD,QAAI,MAAM,MAAM,KAAN,CAAV;AACA,QAAI,EAAE,OAAF,CAAU,GAAV,CAAJ,EAAoB;AACnB,SAAI,OAAO,OAAO,QAAP,GAAkB,OAAO,QAAP,GAAkB,GAAlB,GAAwB,KAA1C,GAAkD,KAA7D;AACA,SAAI,YAAY,IAAI,MAAJ,CAAW,GAAX,EAAgB,EAAhB,EAAoB,IAApB,EAA0B,MAA1B,CAAhB;;AAEA,SAAI,MAAM;AACT,WAAK,eAAW;AACf,cAAO,SAAP;AACA,OAHQ;AAIT,WAAK,aAAS,MAAT,EAAiB;AACrB,WAAI,SAAS,SAAb;AACA,mBAAY,IAAI,MAAJ,CAAW,MAAX,EAAmB,EAAnB,EAAuB,IAAvB,CAAZ;AACA,cAAO,aAAP,CAAqB,EAArB,EAAyB,IAAzB,EAA+B,MAA/B,EAAuC,SAAvC;AACA,aAAM,KAAN,IAAe,MAAf;AACA,cAAO,gBAAP,CAAwB,IAAxB,EAA8B,KAA9B,EAAqC,SAArC,EAAgD,MAAhD,EAAwD;AACvD,oBAAY,IAD2C;AAEvD,cAAM;AAFiD,QAAxD;AAIA,cAAO,OAAP,CAAe,EAAf,EAAmB,EAAnB;AAEA;AAfQ,MAAV;AAiBA,YAAO,cAAP,CAAsB,MAAtB,EAA8B,KAA9B,EAAqC,GAArC;AACA,UAAK,aAAL,CAAmB,EAAnB,EAAsB,IAAtB,EAA6B,GAA7B,EAAkC,SAAlC;AAEA,KAxBD,MAwBO,IAAI,EAAE,aAAF,CAAgB,GAAhB,CAAJ,EAA0B;AAChC,SAAI,YAAY,EAAhB;AACA,eAAU,IAAV,GAAiB,EAAjB;AACA,eAAU,QAAV,GAAqB,OAAO,QAAP,GAAkB,OAAO,QAAP,GAAkB,GAAlB,GAAwB,KAA1C,GAAkD,KAAvE;AACA,SAAI,MAAM;AACT,WAAK,eAAW;AACf,cAAO,SAAP;AACA,OAHQ;AAIT,WAAK,aAAS,MAAT,EAAiB;AACrB,WAAI,eAAe,SAAnB;AACA,mBAAY,EAAZ;AACA,iBAAU,IAAV,GAAiB,EAAjB;AACA,iBAAU,QAAV,GAAqB,OAAO,QAAP,GAAkB,OAAO,QAAP,GAAkB,GAAlB,GAAwB,KAA1C,GAAkD,KAAvE;AACA,aAAM,KAAN,IAAe,MAAf;AACA,cAAO,eAAP,CAAuB,SAAvB,EAAkC,MAAlC,EAA0C,EAA1C;AACA,cAAO,gBAAP,CAAwB,IAAxB,EAA8B,KAA9B,EAAqC,SAArC,EAAgD,YAAhD,EAA8D;AAC7D,oBAAY,KADiD;AAE7D,cAAM;AAFuD,QAA9D;AAIA,cAAO,OAAP,CAAe,EAAf,EAAmB,EAAnB;AAEA;AAjBQ,MAAV;AAmBA,YAAO,cAAP,CAAsB,MAAtB,EAA8B,KAA9B,EAAqC,GAArC;AACA,UAAK,eAAL,CAAqB,SAArB,EAAgC,GAAhC,EAAqC,EAArC;AACA,KAzBM,MAyBA,IAAI,CAAC,EAAE,UAAF,CAAa,GAAb,CAAL,EAAwB;AAC9B,UAAK,iBAAL,CAAuB,MAAvB,EAA+B,KAA/B;AACA;AACD,IApLgB;AAqLjB,sBAAmB,2BAAS,MAAT,EAAiB,KAAjB,EAAwB;AAC1C,QAAI,MAAM;AACT,YAAO,KADE;AAET,UAAK,eAAW;AACf,aAAO,KAAK,OAAL,CAAa,KAAb,CAAP;AACA,MAJQ;AAKT,UAAK,aAAS,GAAT,EAAc;AAClB,UAAI,SAAS,KAAK,OAAL,CAAa,KAAb,CAAb;AACA,UAAI,UAAU,GAAd,EAAmB;AAClB,WAAI,OAAO,IAAX;AACA,YAAK,OAAL,CAAa,KAAb,IAAsB,GAAtB;AACA,cAAO,gBAAP,CAAwB,IAAxB,EAA8B,KAA9B,EAAqC,GAArC,EAA0C,MAA1C;AACA;AACD;AAZQ,KAAV;AAcA,WAAO,cAAP,CAAsB,MAAtB,EAA8B,KAA9B,EAAqC,GAArC;AACA,IArMgB;AAsMjB,qBAAkB,0BAAS,IAAT,EAAe,KAAf,EAAsB,GAAtB,EAA2B,MAA3B,EAAmC,CAAnC,EAAsC;AACvD,QAAI,OAAO,KAAK,QAAL,GAAgB,KAAK,QAAL,GAAgB,GAAhB,GAAsB,KAAtC,GAA8C,KAAzD;AACA,QAAI,KAAJ;AACA,QAAI,CAAC,CAAL,EACC,QAAQ,EAAR,CADD,KAGC,QAAQ,CAAR;AACD,UAAM,KAAN,GAAc,KAAd;AACA,UAAM,GAAN,GAAY,GAAZ;AACA,UAAM,MAAN,GAAe,MAAf;;AAEA,WAAO,sBAAP,CAA8B,KAAK,IAAnC,EAAyC,IAAzC,EAA+C,KAA/C;AACA,IAlNgB;AAmNjB,2BAAwB,gCAAS,EAAT,EAAa,IAAb,EAAmB,KAAnB,EAA0B;AACjD,QAAI,SAAS,GAAG,YAAhB;AACA,QAAI,MAAM,OAAO,MAAjB;AACA,QAAI,aAAa,MAAM,UAAN,GAAmB,IAAnB,GAA0B,KAA3C;AACA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,GAApB,EAAyB,GAAzB,EAA8B;AAC7B,SAAI,aAAa,OAAO,CAAP,EAAU,OAAV,EAAjB;AACA,SAAI,MAAM,aAAc,eAAe,IAA7B,GAAsC,WAAW,OAAX,CAAmB,IAAnB,KAA4B,CAAC,CAA7E;AACA,SAAI,GAAJ,EAAS;AACR,aAAO,CAAP,EAAU,MAAV,CAAiB,KAAjB;AACA;AACD;AACD,IA9NgB;AA+NjB,iBAAc,sBAAS,GAAT,EAAc,SAAd,EAAyB;AACtC,QAAI,UAAU,SAAS,WAAT,CAAqB,MAArB,EAA6B,GAA7B,EAAkC,IAAlC,EAAwC,EAAxC,EAA4C;AACzD,YAAO,UAAU,MAAV,CAAiB,MAAjB,EAAyB,GAAzB,EAA8B,IAA9B,EAAoC,EAApC,CAAP;AACA,KAFD;AAGA,QAAI,EAAE,OAAF,CAAU,GAAV,CAAJ,EAAoB;AACnB,OAAE,IAAF,CAAO,GAAP,EAAY,UAAS,CAAT,EAAY,EAAZ,EAAgB;AAC3B,gBAAU,EAAV,IAAgB,OAAhB;AACA,MAFD;AAGA,KAJD,MAIO;AACN,eAAU,GAAV,IAAiB,OAAjB;AACA;AACD,IA1OgB;AA2OjB,eAAY,oBAAS,MAAT,EAAiB;AAC5B,QAAI,UAAU,EAAd;AACA,QAAI,KAAK,OAAO,UAAhB;AACA,QAAI,EAAJ,EAAQ;AACP,SAAI,MAAM,GAAG,MAAb;AACA,UAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,GAApB,EAAyB,GAAzB,EAA8B;AAC7B,UAAI,OAAO,GAAG,IAAH,CAAQ,CAAR,CAAX;AACA,UAAI,KAAK,IAAL,CAAU,SAAV,CAAoB,CAApB,EAAuB,CAAvB,KAA8B,KAAlC,EAA0C;AACzC,eAAQ,KAAK,IAAL,CAAU,SAAV,CAAoB,CAApB,CAAR,IAAkC,KAAK,KAAvC;AACA;AACD;AACD;AACD,WAAO,OAAP;AACA,IAxPgB;AAyPjB,SAAM;AACL,eAAW,mBAAS,IAAT,EAAe;AACzB,YAAO,iBAAiB,IAAjB,CAAP;AACA,KAHI;AAIL,sBAAkB,0BAAS,EAAT,EAAa,IAAb,EAAmB;AACpC,SAAI,MAAM,GAAG,YAAb;AACA,SAAI,MAAM,IAAI,MAAd;AACA,SAAI,IAAI,CAAR;AACA,YAAO,IAAI,GAAX,EAAgB;AACf,UAAI,OAAO,IAAI,CAAJ,CAAX;AACA,UAAI,WAAW,KAAK,OAAL,EAAf;AACA,UAAI,YAAY,SAAS,OAAT,CAAiB,IAAjB,KAA0B,CAAC,CAA3C,EAA8C;AAC7C,WAAI,MAAJ,CAAW,CAAX,EAAc,CAAd;AACA,aAAM,IAAI,MAAV;AACA,OAHD,MAGO;AACN;AACA;AACD;AACD;AAlBI;AAzPW,GAAlB;;AA+QA,SAAO,iBAAP,GAA2B,YAAW;AACrC,UAAO,gBAAgB,SAAhB,CAA0B,IAA1B,CAAP;AACA,GAFD;;AAIA,MAAI,SAAS,IAAI,KAAJ,EAAb;AACA,SAAO,KAAP,GAAe,OAAO,EAAP,GAAY,MAA3B;;AAEA,MAAI,OAAO,KAAX,EAAkB;AACjB,OAAI,CAAC,MAAM,SAAN,CAAgB,OAArB,EAA8B;AAC7B,UAAM,SAAN,CAAgB,OAAhB,GAA0B,UAAS,IAAT,EAAe,KAAf,EAAsB;AAC/C,SAAI,IAAI,KAAK,MAAb;AAAA,SACC,IAAI,CAAC,CAAC,KADP;AAEA,SAAI,IAAI,CAAR,EACC,KAAK,CAAL;AACD,YAAO,IAAI,CAAX,EAAc,GAAd;AACC,UAAI,KAAK,CAAL,MAAY,IAAhB,EACC,OAAO,CAAP;AAFF,MAGA,OAAO,CAAC,CAAR;AACA,KATD;AAUA;AACD;;AAED,WAAS,MAAT,CAAgB,GAAhB,EAAqB,EAArB,EAAyB,IAAzB,EAA+B,MAA/B,EAAuC;AACtC,QAAK,IAAL,GAAY,EAAZ;AACA,QAAK,QAAL,GAAgB,IAAhB;;AAEA,QAAK,MAAL,GAAc,IAAd;AACA;;;AAGA,QAAK,OAAL,GAAe,GAAf;;AAEA;;;AAGA,QAAK,KAAL,GAAa,MAAM,SAAN,CAAgB,IAA7B;AACA,QAAK,IAAL,GAAY,MAAM,SAAN,CAAgB,GAA5B;AACA,QAAK,QAAL,GAAgB,MAAM,SAAN,CAAgB,OAAhC;;AAEA,QAAK,MAAL,GAAc,MAAM,SAAN,CAAgB,KAA9B;AACA,QAAK,QAAL,GAAgB,MAAM,SAAN,CAAgB,OAAhC;AACA,QAAK,OAAL,GAAe,MAAM,SAAN,CAAgB,MAA/B;AACA,QAAK,IAAL,GAAY,MAAM,SAAN,CAAgB,IAA5B;AACA,QAAK,MAAL,GAAc,MAAM,SAAN,CAAgB,MAA9B;AACA,QAAK,MAAL,GAAc,UAAS,KAAT,EAAgB;AAC7B,WAAO,sBAAP,CAA8B,KAAK,IAAnC,EAAyC,KAAK,MAA9C,EAAsD,KAAtD;AACA,IAFD;AAGA,QAAK,GAAL,GAAW,YAAW;AACrB,QAAI,UAAW,KAAK,OAAL,CAAa,KAAK,OAAL,CAAa,MAAb,GAAqB,CAAlC,CAAf;AACA,SAAK,MAAL,CAAY,KAAK,OAAL,CAAa,MAAb,GAAqB,CAAjC,EAAoC,CAApC;AACA,WAAO,OAAP;AACA,IAJD;AAKA,QAAK,IAAL,GAAY,YAAW;AACtB,QAAI,SAAS,KAAK,OAAL,CAAa,MAA1B;AACA,QAAI,SAAS,KAAK,KAAL,CAAW,KAAX,CAAiB,KAAK,OAAtB,EAA+B,SAA/B,CAAb;AACA,QAAI,OAAO,IAAX;AACA,MAAE,IAAF,CAAO,SAAP,EAAkB,UAAS,CAAT,EAAY,GAAZ,EAAiB;AAClC,YAAO,YAAP,CAAoB,KAAK,IAAzB,EAA+B,KAAK,MAApC,EAA4C,SAAS,CAArD,EAAwD,IAAxD,EAA8D,KAAK,OAAnE;AACA,KAFD;AAGA,SAAK,MAAL,CAAY;AACX,WAAM,MADK;AAEX,YAAO;AACN,cAAQ,MADF;AAEN,cAAQ,MAFF;AAGN,eAAS;AAHH,MAFI;AAOX,iBAAY;AAPD,KAAZ;AASA,WAAO,OAAP,CAAe,EAAf,EAAmB,EAAnB;AACA,WAAO,MAAP;AACA,IAlBD;AAmBA,QAAK,OAAL,GAAe,YAAW;AACzB,SAAK,OAAL,CAAa,OAAb;AACA,QAAI,SAAS,iBAAiB,KAAK,MAAtB,CAAb;AACA,WAAO,IAAP,CAAY,KAAK,IAAjB,EAAuB,KAAK,IAA5B,EAAkC,KAAK,OAAvC;AACA,IAJD;AAKA,QAAK,KAAL,GAAa,YAAW;AACvB,QAAI,UAAW,KAAK,OAAL,CAAa,KAAK,OAAL,CAAa,MAAb,GAAqB,CAAlC,CAAf;AACA,SAAK,MAAL,CAAY,CAAZ,EAAe,CAAf;AACA,WAAO,OAAP;AACA,IAJD;AAKA,QAAK,OAAL,GAAe,UAAS,GAAT,EAAc;AAC5B,SAAK,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkB,GAAlB;AACA,IAFD;AAGA,QAAK,SAAL,GAAiB,YAAW;AAC3B,SAAK,MAAL,CAAY,CAAZ,EAAe,KAAK,OAAL,CAAa,MAA5B;AACA,IAFD;AAGA,QAAK,MAAL,GAAc,YAAW;AACxB,SAAK,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkB,GAAlB;AACA,IAFD;AAGA,QAAK,IAAL,GAAY,UAAS,CAAT,EAAY,GAAZ,EAAiB;AAC5B,QAAI,GAAJ,EAAS;AACR,UAAK,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkB,GAAlB;AACA;AACD,WAAO,KAAK,CAAL,CAAP;AACA,IALD;AAMA,QAAK,IAAL,GAAY,UAAS,GAAT,EAAc;AACzB,QAAI,OAAO,CAAC,MAAM,GAAN,CAAZ,EAAwB;AACvB,UAAK,MAAL,CAAY,GAAZ,EAAiB,KAAK,OAAL,CAAa,MAAb,GAAsB,GAAvC;AACA;AACD,WAAO,KAAK,OAAL,CAAa,MAApB;AACA,IALD;AAMA,QAAK,MAAL,GAAc,YAAW;AACxB,QAAI,QAAQ,UAAU,CAAV,CAAZ;AACA,QAAI,UAAU,UAAU,CAAV,CAAd;AACA,QAAI,WAAW,SAAf,EACC;AACD,QAAI,QAAQ,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,EAAsC,CAAtC,CAAZ;AACA,QAAI,UAAU,CAAd,EAAiB;AAChB;AACA,WAAM,SAAN,CAAgB,MAAhB,CAAuB,IAAvB,CAA4B,IAA5B,EAAkC,KAAlC,EAAyC,OAAzC;AACA,WAAM,SAAN,CAAgB,MAAhB,CAAuB,IAAvB,CAA4B,KAAK,OAAjC,EAA0C,KAA1C,EAAiD,OAAjD;AACA,SAAI,SAAS,iBAAiB,KAAK,MAAtB,CAAb;AACA,YAAO,IAAP,CAAY,KAAK,IAAjB,EAAuB,KAAK,IAAL,CAAU,OAAjC,EAA0C,KAAK,OAA/C;AACA,UAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,OAApB,EAA6B,GAA7B,EAAkC;AACjC,WAAK,MAAL,CAAY;AACX,aAAM,QADK;AAEX,cAAO;AACN,eAAO;AADD,QAFI;AAKX,mBAAY;AALD,OAAZ;AAOA,UAAI,WAAW,KAAK,MAAL,GAAc,MAA7B;AACA;AACA,aAAO,IAAP,CAAY,gBAAZ,CAA6B,KAAK,IAAlC,EAAwC,QAAxC;AACA;AACD;AACA;AACD,QAAI,MAAM,MAAN,GAAe,CAAnB,EAAsB;AACrB;AACA,eAAU,CAAV,IAAe,CAAf;AACA,SAAI,OAAO,IAAX;AACA,WAAM,SAAN,CAAgB,MAAhB,CAAuB,KAAvB,CAA6B,KAAK,OAAlC,EAA2C,SAA3C;AACA,SAAI,SAAS,iBAAiB,KAAK,MAAtB,CAAb;AACA,YAAO,IAAP,CAAY,KAAK,IAAjB,EAAuB,KAAK,IAAL,CAAU,OAAjC,EAA0C,KAAK,OAA/C;;AAEA,OAAE,IAAF,CAAO,KAAP,EAAc,UAAS,CAAT,EAAY,GAAZ,EAAiB;AAC9B,aAAO,YAAP,CAAoB,KAAK,IAAzB,EAA+B,KAAK,MAApC,EAA4C,QAAQ,CAApD,EAAuD,IAAvD,EAA6D,KAAK,OAAlE;AACA,MAFD;;AAIA,UAAK,MAAL,CAAY;AACX,YAAM,QADK;AAEX,aAAO;AACN,eAAQ,KADF;AAEN,cAAO,KAFD;AAGN,eAAQ,KAAK,OAAL,CAAa,MAHf;AAIN,gBAAS;AAJH,OAFI;AAQX,kBAAY;AARD,MAAZ;AAUA;AACA;AACD,WAAO,OAAP,CAAe,EAAf,EAAmB,EAAnB;AACA,IAnDD;AAoDA;AAGD,EAxbD,EAwbG,MAxbH,EAwbW,QAxbX,EAwbqB,SAxbrB;;AA0bA;;;AAGA,UAAS,WAAT,CAAqB,KAArB,EAA4B,QAA5B,EAAsC,SAAtC,EAAiD;AAChD,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,MAAM,MAA1B,EAAkC,GAAlC,EAAuC;AACtC,OAAI,KAAK,MAAM,CAAN,CAAT;AACA;;;;;AAKA,OAAI,GAAG,QAAH,IAAe,CAAnB,EAAsB;AACrB,QAAI,KAAK,GAAG,WAAZ;AACA,QAAI,aAAa,GAAG,UAApB;AACA,SAAK,SAAS,cAAT,CAAwB,EAAxB,CAAL;AACA,QAAI,UAAJ,EACC,GAAG,UAAH,GAAgB,UAAhB;AACD,OAAG,WAAH,GAAiB,EAAjB;AACA,IAPD,MAOO;AACN,QAAI,SAAJ,EACC,KAAK,GAAG,SAAH,CAAa,IAAb,CAAL;AACD;AACD,YAAS,IAAT,CAAc,MAAd,EAAsB,EAAtB;AACA;AACD;;AAED;;;;;;;AAOA,UAAS,aAAT,CAAuB,EAAvB,EAA2B,GAA3B,EAAgC,IAAhC,EAAsC,KAAtC,EAA6C,MAA7C,EAAqD;AACpD,MAAI,OAAO,KAAK,IAAL,GAAY,KAAK,IAAjB,GAAwB,KAAK,IAAxC;AACA,MAAI,KAAK,MAAM,IAAN,CAAW,SAAX,CAAqB,IAArB,CAAT;AACA,MAAI,QAAQ,MAAZ;AACA,MAAI,UAAU,IAAI,OAAJ,CAAY,WAAZ,EAAd;AACA,MAAI,WAAW,IAAf;AACA,MAAI,UAAU,KAAd;AACA,MAAI,SAAS,MAAM,SAAN,IAAmB,KAAK,KAAL,CAAW,gBAAX,EAA6B,CAA7B,CAAhC,EACC,UAAU,IAAV;;AAED,MAAI,YAAJ,CAAiB,MAAjB,EAAyB,QAAzB;;AAEA,SAAO;AACN,WAAQ,kBAAW;AAClB,QAAI,MAAM,GAAG,IAAH,CAAQ,MAAR,EAAgB,EAAhB,CAAV;AACA,QAAI,WAAW,OAAf,EAAwB;AACvB,SAAI,KAAJ,GAAY,GAAZ;AACA,KAFD,MAEO;AACN,SAAI,SAAJ,GAAgB,GAAhB;AACA;AACD,IARK;AASN,UAAO,iBAAW;AACjB,WAAO,EAAP;AACA,IAXK;AAYN,YAAS,mBAAW;AACnB,QAAI,OAAJ,EACC,WAAW,KAAK,OAAL,CAAa,MAAM,SAAnB,EAA8B,MAAM,MAApC,CAAX;AACD,WAAO,QAAP;AACA;AAhBK,GAAP;AAmBA,E","file":"helix.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"helix\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"helix\"] = factory();\n\telse\n\t\troot[\"helix\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0a735a0947415f9acf3f\n **/","import * as helix from './helix.js';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/**\r\n * helix core\r\n */\r\n(function(window, document, undefined) {\r\n\t\"use strict\";\r\n\tvar document = window.document,\r\n\t\tlocation = window.location,\r\n\t\thelix_version = \"0.1\",\r\n\t\t$linkers$ = {},\r\n\t\t_protoPropNames = [\"this\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"toLocaleString\", \"toString\", \"valueOf\", \"constructor\"],\r\n\t\thelix = function() {\r\n\t\t\thelix.prototype.bootstrap.call(window);\r\n\t\t},\r\n\t\t_bufferFragment = document.createDocumentFragment();\r\n\twindow.OLDIE = (window == document && document != window);\r\n\thelix.prototype = {\r\n\t\t/**\r\n\t\t * 启动程序.\r\n\t\t */\r\n\t\tbootstrap: function() {\r\n\r\n\t\t},\r\n\t\t/**\r\n\t\t * 定义一个控制器\r\n\t\t */\r\n\t\tdef: function(id, ctrl) {\r\n\r\n\t\t\tvar vm = {};\r\n\t\t\tif ($.isFunction(ctrl)) {\r\n\t\t\t\tctrl.call(this, vm);\r\n\t\t\t} else if ($.isPlainObject(ctrl)) {\r\n\t\t\t\tvm = ctrl;\r\n\t\t\t}\r\n\r\n\t\t\tvar trueVM = {};\r\n\t\t\tvar dom = document.getElementById(id);\r\n\t\t\tthis.compileView(dom, trueVM, vm);\r\n\t\t\tthis.defObserve(vm, trueVM);\r\n\t\t\tthis.applyVM(trueVM);\r\n\t\t\tthis.addInputWatch(dom);\r\n\t\t\treturn trueVM;\r\n\t\t},\r\n\t\tapplyVM: function(vm, event) {\r\n\t\t\tvar len = vm.$$subscriber.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvm.$$subscriber[i].$apply(event);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 注册订阅者信息\r\n\t\t */\r\n\t\tcompileView: function(dom, vm, owner) {\r\n\t\t\t//订阅者\r\n\t\t\tvm.$$subscriber = [];\r\n\r\n\t\t\tthis.compileDom(dom, vm, owner);\r\n\t\t},\r\n\t\tcompileDom: function(dom, vm, owner, param) {\r\n\t\t\tvar childs = dom.childNodes;\r\n\t\t\tvar len = childs.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tvar child = childs[i];\r\n\t\t\t\tvar attr = this.getDefAttr(child);\r\n\t\t\t\t//存在綁定行为\r\n\t\t\t\tvar currentVM = vm;\r\n\t\t\t\tif (!$.isEmptyObject(attr)) {\r\n\t\t\t\t\tvar subscriber = this.analyse(child, attr, vm, owner, param);\r\n\t\t\t\t\tif (subscriber)\r\n\t\t\t\t\t\tvm.$$subscriber.push(subscriber);\r\n\t\t\t\t}\r\n\t\t\t\tif (child.children && child.children.length > 0) {\r\n\t\t\t\t\tthis.compileDom(child, currentVM, owner, param);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 分析Dom结构,将符合条件的元素和VM进行连接,获得订阅者\r\n\t\t */\r\n\t\tanalyse: function(child, attr, vm, owner, param) {\r\n\t\t\tvar tagName = child.nodeName.toLowerCase();\r\n\t\t\tvar $linker = $linkers$[tagName] ? $linkers$[tagName] : defaultLinker;\r\n\t\t\ttry {\r\n\t\t\t\treturn $linker.call(vm, vm, child, attr, owner, param);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tif (console) {\r\n\t\t\t\t\tdebugger;\r\n\t\t\t\t\tconsole.error(tagName + \"analyse fail.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t/**\r\n\t\t * 增加输入观察者\r\n\t\t */\r\n\t\taddInputWatch: function(dom) {\r\n\t\t\t$(dom).on(\"blur\", \"input\", function(e) {\r\n\t\t\t\tvar target = e.target;\r\n\t\t\t\tif (target.getAttribute(\"hi-bind\")) {\r\n\t\t\t\t\talert($(target).val());\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 定义observe\r\n\t\t */\r\n\t\tdefObserve: function(vm, trueVM) {\r\n\t\t\tthis.defPuppetObject(trueVM, vm, trueVM);\r\n\t\t\treturn trueVM;\r\n\t\t},\r\n\t\tdefPuppetObject: function(puppet, owner, vm) {\r\n\t\t\tpuppet.$$vm = vm;\r\n\t\t\tpuppet.$$owner = owner;\r\n\t\t\tfor (var eleId in owner) {\r\n\t\t\t\tif (eleId.charAt(0) != \"$\" && _protoPropNames.indexOf(eleId) == -1) {\r\n\t\t\t\t\tthis.defPuppetELement(eleId, owner, vm, puppet);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefArrayItem: function(vm, eleId, i, puppetArr, ele) {\r\n\t\t\tvar puppetObj = {};\r\n\t\t\tpuppetObj.$$vm = vm;\r\n\t\t\tvar item = ele[i];\r\n\t\t\tObject.defineProperty(puppetObj, \"$$prefix\", {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\tvar _idx = ele.indexOf(item)\r\n\t\t\t\t\treturn eleId + \"[\" + _idx + \"]\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tArray.prototype.splice.call(puppetArr, i, 0, puppetObj);\r\n\t\t\tthis.defPuppetObject(puppetObj, ele[i], vm);\r\n\t\t\treturn puppetObj;\r\n\t\t},\r\n\t\tdefArrayItems: function(vm, eleId, ele, puppetArr) {\r\n\t\t\tfor (var i = 0, len = ele.length; i < len; i++) {\r\n\t\t\t\tthis.defArrayItem(vm, eleId, i, puppetArr, ele);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefPuppetELement: function(eleId, owner, vm, puppet) {\r\n\t\t\tvar ele = owner[eleId];\r\n\t\t\tif ($.isArray(ele)) {\r\n\t\t\t\tvar expr = puppet.$$prefix ? puppet.$$prefix + \".\" + eleId : eleId;\r\n\t\t\t\tvar puppetArr = new HArray(ele, vm, expr, puppet);\r\n\t\t\t\t\r\n\t\t\t\tvar obz = {\r\n\t\t\t\t\tget: function() {\r\n\t\t\t\t\t\treturn puppetArr;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function(newEle) {\r\n\t\t\t\t\t\tvar tmpArr = puppetArr;\r\n\t\t\t\t\t\tpuppetArr = new HArray(newEle, vm, expr);\r\n\t\t\t\t\t\t$helix.defArrayItems(vm, expr, newEle, puppetArr);\r\n\t\t\t\t\t\towner[eleId] = newEle;\r\n\t\t\t\t\t\t$helix.onPropertyChange(this, eleId, puppetArr, tmpArr, {\r\n\t\t\t\t\t\t\tstrictExpr: true,\r\n\t\t\t\t\t\t\ttype: \"refresh\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$helix.applyVM(vm, {});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tObject.defineProperty(puppet, eleId, obz)\r\n\t\t\t\tthis.defArrayItems(vm,expr,  ele, puppetArr);\r\n\r\n\t\t\t} else if ($.isPlainObject(ele)) {\r\n\t\t\t\tvar puppetObj = {};\r\n\t\t\t\tpuppetObj.$$vm = vm;\r\n\t\t\t\tpuppetObj.$$prefix = puppet.$$prefix ? puppet.$$prefix + \".\" + eleId : eleId;\r\n\t\t\t\tvar obz = {\r\n\t\t\t\t\tget: function() {\r\n\t\t\t\t\t\treturn puppetObj;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function(newEle) {\r\n\t\t\t\t\t\tvar tmpPuppetObj = puppetObj;\r\n\t\t\t\t\t\tpuppetObj = {};\r\n\t\t\t\t\t\tpuppetObj.$$vm = vm;\r\n\t\t\t\t\t\tpuppetObj.$$prefix = puppet.$$prefix ? puppet.$$prefix + \".\" + eleId : eleId;\r\n\t\t\t\t\t\towner[eleId] = newEle;\r\n\t\t\t\t\t\t$helix.defPuppetObject(puppetObj, newEle, vm);\r\n\t\t\t\t\t\t$helix.onPropertyChange(this, eleId, puppetObj, tmpPuppetObj, {\r\n\t\t\t\t\t\t\tstrictExpr: false,\r\n\t\t\t\t\t\t\ttype: \"refresh\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$helix.applyVM(vm, {});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tObject.defineProperty(puppet, eleId, obz)\r\n\t\t\t\tthis.defPuppetObject(puppetObj, ele, vm);\r\n\t\t\t} else if (!$.isFunction(ele)) {\r\n\t\t\t\tthis.defPuppetProperty(puppet, eleId);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefPuppetProperty: function(puppet, eleId) {\r\n\t\t\tvar obz = {\r\n\t\t\t\teleId: eleId,\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn this.$$owner[eleId];\r\n\t\t\t\t},\r\n\t\t\t\tset: function(val) {\r\n\t\t\t\t\tvar oldVal = this.$$owner[eleId];\r\n\t\t\t\t\tif (oldVal != val) {\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tthat.$$owner[eleId] = val;\r\n\t\t\t\t\t\t$helix.onPropertyChange(that, eleId, val, oldVal);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tObject.defineProperty(puppet, eleId, obz)\r\n\t\t},\r\n\t\tonPropertyChange: function(that, eleId, val, oldVal, e) {\r\n\t\t\tvar expr = that.$$prefix ? that.$$prefix + \".\" + eleId : eleId;\r\n\t\t\tvar event;\r\n\t\t\tif (!e)\r\n\t\t\t\tevent = {};\r\n\t\t\telse\r\n\t\t\t\tevent = e;\r\n\t\t\tevent.eleId = eleId;\r\n\t\t\tevent.val = val;\r\n\t\t\tevent.oldVal = oldVal;\r\n\r\n\t\t\t$helix.publishPropertyChanged(that.$$vm, expr, event);\r\n\t\t},\r\n\t\tpublishPropertyChanged: function(vm, expr, event) {\r\n\t\t\tvar subscr = vm.$$subscriber;\r\n\t\t\tvar len = subscr.length;\r\n\t\t\tvar strictExpr = event.strictExpr ? true : false;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tvar subscrExpr = subscr[i].getExpr();\r\n\t\t\t\tvar rat = strictExpr ? (subscrExpr === expr) : (subscrExpr.indexOf(expr) != -1);\r\n\t\t\t\tif (rat) {\r\n\t\t\t\t\tsubscr[i].$apply(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefComponent: function(ids, component) {\r\n\t\t\tvar $linker = function namedLinker(trueVM, dom, attr, vm) {\r\n\t\t\t\treturn component.linker(trueVM, dom, attr, vm);\r\n\t\t\t}\r\n\t\t\tif ($.isArray(ids)) {\r\n\t\t\t\t$.each(ids, function(i, id) {\r\n\t\t\t\t\t$linkers$[id] = $linker;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t$linkers$[ids] = $linker;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDefAttr: function(domEle) {\r\n\t\t\tvar attrMap = {};\r\n\t\t\tvar nm = domEle.attributes;\r\n\t\t\tif (nm) {\r\n\t\t\t\tvar len = nm.length;\r\n\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\tvar node = nm.item(i);\r\n\t\t\t\t\tif (node.name.substring(0, 3) == (\"hi-\")) {\r\n\t\t\t\t\t\tattrMap[node.name.substring(3)] = node.value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn attrMap;\r\n\t\t},\r\n\t\tutil: {\r\n\t\t\tgetExprFn: function(expr) {\r\n\t\t\t\treturn createGetterExpr(expr);\r\n\t\t\t},\r\n\t\t\tremoveSubScriber: function(vm, expr) {\r\n\t\t\t\tvar arr = vm.$$subscriber;\r\n\t\t\t\tvar len = arr.length;\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\twhile (i < len) {\r\n\t\t\t\t\tvar item = arr[i];\r\n\t\t\t\t\tvar itemExpr = item.getExpr();\r\n\t\t\t\t\tif (itemExpr && itemExpr.indexOf(expr) != -1) {\r\n\t\t\t\t\t\tarr.splice(i, 1);\r\n\t\t\t\t\t\tlen = arr.length;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\twindow.getBufferFragment = function() {\r\n\t\treturn _bufferFragment.cloneNode(true);\r\n\t}\r\n\r\n\tvar $helix = new helix();\r\n\twindow.helix = window.hi = $helix;\r\n\r\n\tif (window.OLDIE) {\r\n\t\tif (!Array.prototype.indexOf) {\r\n\t\t\tArray.prototype.indexOf = function(item, index) {\r\n\t\t\t\tvar n = this.length,\r\n\t\t\t\t\ti = ~~index\r\n\t\t\t\tif (i < 0)\r\n\t\t\t\t\ti += n\r\n\t\t\t\tfor (; i < n; i++)\r\n\t\t\t\t\tif (this[i] === item)\r\n\t\t\t\t\t\treturn i\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction HArray(arr, vm, expr, puppet) {\r\n\t\tthis.$$vm = vm;\r\n\t\tthis.$$prefix = expr;\r\n\t\t\r\n\t\tthis.$$expr = expr;\r\n\t\t/**\r\n\t\t * 原对象的拷贝\r\n\t\t */\r\n\t\tthis.$$model = arr;\r\n\r\n\t\t/**\r\n\t\t * 备份方法\r\n\t\t */\r\n\t\tthis._push = Array.prototype.push;\r\n\t\tthis._pop = Array.prototype.pop;\r\n\t\tthis._reverse = Array.prototype.reverse;\r\n\r\n\t\tthis._shift = Array.prototype.shift;\r\n\t\tthis._unshift = Array.prototype.unshift;\r\n\t\tthis._splice = Array.prototype.splice;\r\n\t\tthis.join = Array.prototype.join;\r\n\t\tthis.concat = Array.prototype.concat;\r\n\t\tthis.notify = function(event) {\r\n\t\t\t$helix.publishPropertyChanged(this.$$vm, this.$$expr, event);\r\n\t\t}\r\n\t\tthis.pop = function() {\r\n\t\t\tvar lastObj =  this.$$model[this.$$model.length -1];\r\n\t\t\tthis.splice(this.$$model.length -1, 1)\r\n\t\t\treturn lastObj;\r\n\t\t}\r\n\t\tthis.push = function() {\r\n\t\t\tvar oriLen = this.$$model.length;\r\n\t\t\tvar newLen = this._push.apply(this.$$model, arguments);\r\n\t\t\tvar that = this;\r\n\t\t\t$.each(arguments, function(i, ele) {\r\n\t\t\t\t$helix.defArrayItem(that.$$vm, that.$$expr, oriLen + i, that, that.$$model);\r\n\t\t\t});\r\n\t\t\tthis.notify({\r\n\t\t\t\ttype: \"push\",\r\n\t\t\t\tparam: {\r\n\t\t\t\t\toriLen: oriLen,\r\n\t\t\t\t\tnewLen: newLen,\r\n\t\t\t\t\telement: arguments\r\n\t\t\t\t},\r\n\t\t\t\tstrictExpr: true\r\n\t\t\t});\r\n\t\t\t$helix.applyVM(vm, {});\r\n\t\t\treturn newLen;\r\n\t\t}\r\n\t\tthis.reverse = function() {\r\n\t\t\tthis.$$model.reverse();\r\n\t\t\tvar setter = createSetterExpr(this.$$expr);\r\n\t\t\tsetter.call(this.$$vm, this.$$vm, this.$$model)\r\n\t\t}\r\n\t\tthis.shift = function() {\r\n\t\t\tvar lastObj =  this.$$model[this.$$model.length -1];\r\n\t\t\tthis.splice(0, 1)\r\n\t\t\treturn lastObj;\r\n\t\t}\r\n\t\tthis.unshift = function(obj) {\r\n\t\t\tthis.splice(0, 0, obj)\r\n\t\t}\r\n\t\tthis.removeAll = function() {\r\n\t\t\tthis.splice(0, this.$$model.length)\r\n\t\t}\r\n\t\tthis.addAll = function() {\r\n\t\t\tthis.splice(0, 0, obj)\r\n\t\t}\r\n\t\tthis.item = function(i, obj) {\r\n\t\t\tif (obj) {\r\n\t\t\t\tthis.splice(i, 1, obj)\r\n\t\t\t}\r\n\t\t\treturn this[i];\r\n\t\t}\r\n\t\tthis.size = function(len) {\r\n\t\t\tif (len && !isNaN(len)) {\r\n\t\t\t\tthis.splice(len, this.$$model.length - len)\r\n\t\t\t}\r\n\t\t\treturn this.$$model.length;\r\n\t\t}\r\n\t\tthis.splice = function() {\r\n\t\t\tvar index = arguments[0];\r\n\t\t\tvar howmany = arguments[1];\r\n\t\t\tif (howmany == undefined)\r\n\t\t\t\treturn;\r\n\t\t\tvar items = Array.prototype.slice.call(arguments, 2);\r\n\t\t\tif (howmany > 0) {\r\n\t\t\t\t/**--remove--**/\r\n\t\t\t\tArray.prototype.splice.call(this, index, howmany)\r\n\t\t\t\tArray.prototype.splice.call(this.$$model, index, howmany)\r\n\t\t\t\tvar setter = createSetterExpr(this.$$expr);\r\n\t\t\t\tsetter.call(this.$$vm, this.$$vm.$$owner, this.$$model)\r\n\t\t\t\tfor (var i = 0; i < howmany; i++) {\r\n\t\t\t\t\tthis.notify({\r\n\t\t\t\t\t\ttype: \"remove\",\r\n\t\t\t\t\t\tparam: {\r\n\t\t\t\t\t\t\tindex: index\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstrictExpr: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar itemExpr = this.$$expr + \"[-1]\";\r\n\t\t\t\t\t//销毁订阅者;\r\n\t\t\t\t\t$helix.util.removeSubScriber(this.$$vm, itemExpr);\r\n\t\t\t\t}\r\n\t\t\t\t/**--remove--**/\r\n\t\t\t}\r\n\t\t\tif (items.length > 0) {\r\n\t\t\t\t/**--insert--**/\r\n\t\t\t\targuments[1] = 0;\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tArray.prototype.splice.apply(that.$$model, arguments)\r\n\t\t\t\tvar setter = createSetterExpr(this.$$expr);\r\n\t\t\t\tsetter.call(this.$$vm, this.$$vm.$$owner, this.$$model)\r\n\r\n\t\t\t\t$.each(items, function(i, ele) {\r\n\t\t\t\t\t$helix.defArrayItem(that.$$vm, that.$$expr, index + i, that, that.$$model);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.notify({\r\n\t\t\t\t\ttype: \"insert\",\r\n\t\t\t\t\tparam: {\r\n\t\t\t\t\t\toriLen: index,\r\n\t\t\t\t\t\tindex: index,\r\n\t\t\t\t\t\tnewLen: that.$$model.length,\r\n\t\t\t\t\t\telement: items\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstrictExpr: true\r\n\t\t\t\t});\r\n\t\t\t\t/**--insert--**/\r\n\t\t\t}\r\n\t\t\t$helix.applyVM(vm, {});\r\n\t\t}\r\n\t}\r\n\r\n\r\n})(window, document, undefined)\r\n\r\n/**\r\n * 遍历对Dom进行操作\r\n */\r\nfunction traverseDom(array, callback, deepClone) {\r\n\tfor (var i = 0; i < array.length; i++) {\r\n\t\tvar li = array[i];\r\n\t\t/**\r\n\t\t * TextNode在IE中不可重复使用.\r\n\t\t * 并且IE中如果textNode的宗主被清空内容之后,textNode会随着被清空,\r\n\t\t * 所以这里重新创建一份\r\n\t\t */\r\n\t\tif (li.nodeType == 3) {\r\n\t\t\tvar tc = li.textContent;\r\n\t\t\tvar $$list_idx = li.$$list_idx;\r\n\t\t\tli = document.createTextNode(tc)\r\n\t\t\tif ($$list_idx)\r\n\t\t\t\tli.$$list_idx = $$list_idx;\r\n\t\t\tli.textContent = tc;\r\n\t\t} else {\r\n\t\t\tif (deepClone)\r\n\t\t\t\tli = li.cloneNode(true);\r\n\t\t}\r\n\t\tcallback.call(window, li);\r\n\t}\r\n}\r\n\r\n/**\r\n * 默认连接器\r\n * @param {Object} vm\r\n * @param {Object} dom\r\n * @param {Object} attr\r\n * @param {Object} owner\r\n */\r\nfunction defaultLinker(vm, dom, attr, owner, sparam) {\r\n\tvar expr = attr.data ? attr.data : attr.bind;\r\n\tvar fn = helix.util.getExprFn(expr);\r\n\tvar param = sparam;\r\n\tvar tagName = dom.tagName.toLowerCase();\r\n\tvar trueExpr = expr;\r\n\tvar dynExpr = false;\r\n\tif (param && param.exprMatch == expr.match(/[a-z0-9A-Z_]*/g)[0])\r\n\t\tdynExpr = true;\r\n\r\n\tdom.setAttribute(\"expr\", trueExpr);\r\n\r\n\treturn {\r\n\t\t$apply: function() {\r\n\t\t\tvar val = fn.call(window, vm);\r\n\t\t\tif (tagName == \"input\") {\r\n\t\t\t\tdom.value = val;\r\n\t\t\t} else {\r\n\t\t\t\tdom.innerHTML = val;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetFn: function() {\r\n\t\t\treturn fn;\r\n\t\t},\r\n\t\tgetExpr: function() {\r\n\t\t\tif (dynExpr)\r\n\t\t\t\ttrueExpr = expr.replace(param.exprMatch, param.prefix);\r\n\t\t\treturn trueExpr;\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/helix.js\n **/"],"sourceRoot":""}